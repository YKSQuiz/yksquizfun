{"version":3,"file":"static/js/384.87e8e64b.chunk.js","mappings":"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","sources":["components/admin/PerformanceDashboard.tsx","utils/performance.ts"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar, PieChart, Pie, Cell } from 'recharts';\r\nimport { usePerformanceMonitor } from '../../utils/performance';\r\nimport { getMemoryUsage, getNetworkInfo } from '../../utils/performance';\r\nimport { useABTest } from '../../utils/abTesting';\r\nimport './PerformanceDashboard.css';\r\n\r\ninterface PerformanceData {\r\n  timestamp: number;\r\n  memoryUsage: number;\r\n  networkSpeed: number;\r\n  loadTime: number;\r\n  cacheHitRate: number;\r\n}\r\n\r\nconst PerformanceDashboard: React.FC = () => {\r\n  const { getMetrics, reportMetrics } = usePerformanceMonitor();\r\n  const [performanceData, setPerformanceData] = useState<PerformanceData[]>([]);\r\n  const [isMonitoring, setIsMonitoring] = useState(false);\r\n  const [refreshInterval, setRefreshInterval] = useState<NodeJS.Timeout | null>(null);\r\n\r\n  // AB Test results\r\n  const { variant: uiVariant, config: uiConfig } = useABTest('quiz_ui_variant');\r\n  const { variant: loadingVariant, config: loadingConfig } = useABTest('question_loading');\r\n\r\n  // Start/Stop monitoring\r\n  const toggleMonitoring = () => {\r\n    if (isMonitoring) {\r\n      if (refreshInterval) {\r\n        clearInterval(refreshInterval);\r\n        setRefreshInterval(null);\r\n      }\r\n      setIsMonitoring(false);\r\n    } else {\r\n      const interval = setInterval(() => {\r\n        collectPerformanceData();\r\n      }, 5000); // Collect data every 5 seconds\r\n      setRefreshInterval(interval);\r\n      setIsMonitoring(true);\r\n    }\r\n  };\r\n\r\n  const collectPerformanceData = () => {\r\n    const memory = getMemoryUsage();\r\n    const network = getNetworkInfo();\r\n    const metrics = getMetrics();\r\n\r\n    const data: PerformanceData = {\r\n      timestamp: Date.now(),\r\n      memoryUsage: memory ? (memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100 : 0,\r\n      networkSpeed: network ? network.downlink : 0,\r\n      loadTime: metrics['fetchQuestions'] ? metrics['fetchQuestions'].reduce((a, b) => a + b, 0) / metrics['fetchQuestions'].length : 0,\r\n      cacheHitRate: metrics['cache_hit'] ? (metrics['cache_hit'].length / (metrics['cache_hit'].length + (metrics['fetch_error']?.length || 0))) * 100 : 0\r\n    };\r\n\r\n    setPerformanceData(prev => [...prev.slice(-20), data]); // Keep last 20 data points\r\n  };\r\n\r\n  // Memoized chart data\r\n  const chartData = useMemo(() => {\r\n    return performanceData.map(data => ({\r\n      time: new Date(data.timestamp).toLocaleTimeString(),\r\n      memory: data.memoryUsage,\r\n      network: data.networkSpeed,\r\n      loadTime: data.loadTime,\r\n      cacheHitRate: data.cacheHitRate\r\n    }));\r\n  }, [performanceData]);\r\n\r\n  // Performance summary\r\n  const performanceSummary = useMemo(() => {\r\n    if (performanceData.length === 0) return null;\r\n\r\n    const latest = performanceData[performanceData.length - 1];\r\n    const avgMemory = performanceData.reduce((sum, data) => sum + data.memoryUsage, 0) / performanceData.length;\r\n    const avgLoadTime = performanceData.reduce((sum, data) => sum + data.loadTime, 0) / performanceData.length;\r\n    const avgCacheHitRate = performanceData.reduce((sum, data) => sum + data.cacheHitRate, 0) / performanceData.length;\r\n\r\n    return {\r\n      currentMemory: latest.memoryUsage,\r\n      averageMemory: avgMemory,\r\n      currentLoadTime: latest.loadTime,\r\n      averageLoadTime: avgLoadTime,\r\n      currentCacheHitRate: latest.cacheHitRate,\r\n      averageCacheHitRate: avgCacheHitRate,\r\n      dataPoints: performanceData.length\r\n    };\r\n  }, [performanceData]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (refreshInterval) {\r\n        clearInterval(refreshInterval);\r\n      }\r\n    };\r\n  }, [refreshInterval]);\r\n\r\n  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'];\r\n\r\n  return (\r\n    <div className=\"performance-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Performance Dashboard</h1>\r\n        <button \r\n          onClick={toggleMonitoring}\r\n          className={`monitoring-btn ${isMonitoring ? 'active' : ''}`}\r\n        >\r\n          {isMonitoring ? 'Stop Monitoring' : 'Start Monitoring'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* AB Test Information */}\r\n      <div className=\"ab-test-section\">\r\n        <h2>AB Test Status</h2>\r\n        <div className=\"ab-test-grid\">\r\n          <div className=\"ab-test-card\">\r\n            <h3>UI Variant</h3>\r\n            <p>Current: {uiVariant}</p>\r\n            <p>Progress Bar: {uiConfig.showProgressBar ? 'Yes' : 'No'}</p>\r\n            <p>Animation Speed: {uiConfig.animationSpeed}</p>\r\n          </div>\r\n          <div className=\"ab-test-card\">\r\n            <h3>Loading Variant</h3>\r\n            <p>Current: {loadingVariant}</p>\r\n            <p>Cache Size: {loadingConfig.cacheSize}</p>\r\n            <p>Strategy: {loadingConfig.loadingStrategy}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Performance Summary */}\r\n      {performanceSummary && (\r\n        <div className=\"performance-summary\">\r\n          <h2>Performance Summary</h2>\r\n          <div className=\"summary-grid\">\r\n            <div className=\"summary-card\">\r\n              <h3>Memory Usage</h3>\r\n              <p className=\"current\">{performanceSummary.currentMemory.toFixed(2)}%</p>\r\n              <p className=\"average\">Avg: {performanceSummary.averageMemory.toFixed(2)}%</p>\r\n            </div>\r\n            <div className=\"summary-card\">\r\n              <h3>Load Time</h3>\r\n              <p className=\"current\">{performanceSummary.currentLoadTime.toFixed(2)}ms</p>\r\n              <p className=\"average\">Avg: {performanceSummary.averageLoadTime.toFixed(2)}ms</p>\r\n            </div>\r\n            <div className=\"summary-card\">\r\n              <h3>Cache Hit Rate</h3>\r\n              <p className=\"current\">{performanceSummary.currentCacheHitRate.toFixed(2)}%</p>\r\n              <p className=\"average\">Avg: {performanceSummary.averageCacheHitRate.toFixed(2)}%</p>\r\n            </div>\r\n            <div className=\"summary-card\">\r\n              <h3>Data Points</h3>\r\n              <p className=\"current\">{performanceSummary.dataPoints}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Charts */}\r\n      {chartData.length > 0 && (\r\n        <div className=\"charts-section\">\r\n          <h2>Performance Charts</h2>\r\n          \r\n          <div className=\"chart-grid\">\r\n            <div className=\"chart-container\">\r\n              <h3>Memory Usage Over Time</h3>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"time\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Line type=\"monotone\" dataKey=\"memory\" stroke=\"#8884d8\" />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-container\">\r\n              <h3>Load Time Over Time</h3>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"time\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Line type=\"monotone\" dataKey=\"loadTime\" stroke=\"#82ca9d\" />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-container\">\r\n              <h3>Cache Hit Rate</h3>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"time\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Bar dataKey=\"cacheHitRate\" fill=\"#8884d8\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-container\">\r\n              <h3>Network Speed</h3>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={chartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"time\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Line type=\"monotone\" dataKey=\"network\" stroke=\"#ffc658\" />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Export Data */}\r\n      <div className=\"export-section\">\r\n        <h2>Export Data</h2>\r\n        <button onClick={() => reportMetrics()}>\r\n          Export Metrics\r\n        </button>\r\n        <button onClick={() => {\r\n          const dataStr = JSON.stringify(performanceData, null, 2);\r\n          const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n          const url = URL.createObjectURL(dataBlob);\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          link.download = 'performance-data.json';\r\n          link.click();\r\n        }}>\r\n          Export Performance Data\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PerformanceDashboard; ","// Performance monitoring utilities\r\nexport class PerformanceMonitor {\r\n  private static instance: PerformanceMonitor;\r\n  private metrics: Map<string, number[]> = new Map();\r\n  private observers: PerformanceObserver[] = [];\r\n\r\n  private constructor() {\r\n    this.initObservers();\r\n  }\r\n\r\n  static getInstance(): PerformanceMonitor {\r\n    if (!PerformanceMonitor.instance) {\r\n      PerformanceMonitor.instance = new PerformanceMonitor();\r\n    }\r\n    return PerformanceMonitor.instance;\r\n  }\r\n\r\n  private initObservers() {\r\n    // Observe navigation timing\r\n    if ('PerformanceObserver' in window) {\r\n      const navigationObserver = new PerformanceObserver((list) => {\r\n        for (const entry of list.getEntries()) {\r\n          if (entry.entryType === 'navigation') {\r\n            const navEntry = entry as PerformanceNavigationTiming;\r\n            this.recordMetric('navigation', navEntry.loadEventEnd - navEntry.loadEventStart);\r\n          }\r\n        }\r\n      });\r\n      \r\n      try {\r\n        navigationObserver.observe({ entryTypes: ['navigation'] });\r\n        this.observers.push(navigationObserver);\r\n      } catch (e) {\r\n        console.warn('Navigation timing not supported');\r\n      }\r\n\r\n      // Observe paint timing\r\n      const paintObserver = new PerformanceObserver((list) => {\r\n        for (const entry of list.getEntries()) {\r\n          if (entry.entryType === 'paint') {\r\n            this.recordMetric('paint', entry.startTime);\r\n          }\r\n        }\r\n      });\r\n      \r\n      try {\r\n        paintObserver.observe({ entryTypes: ['paint'] });\r\n        this.observers.push(paintObserver);\r\n      } catch (e) {\r\n        console.warn('Paint timing not supported');\r\n      }\r\n    }\r\n  }\r\n\r\n  recordMetric(name: string, value: number) {\r\n    if (!this.metrics.has(name)) {\r\n      this.metrics.set(name, []);\r\n    }\r\n    this.metrics.get(name)!.push(value);\r\n  }\r\n\r\n  getAverageMetric(name: string): number {\r\n    const values = this.metrics.get(name);\r\n    if (!values || values.length === 0) return 0;\r\n    return values.reduce((sum, val) => sum + val, 0) / values.length;\r\n  }\r\n\r\n  getMetrics(): Record<string, number[]> {\r\n    const result: Record<string, number[]> = {};\r\n    this.metrics.forEach((values, key) => {\r\n      result[key] = [...values];\r\n    });\r\n    return result;\r\n  }\r\n\r\n  measureAsync<T>(name: string, fn: () => Promise<T>): Promise<T> {\r\n    const start = performance.now();\r\n    return fn().finally(() => {\r\n      const duration = performance.now() - start;\r\n      this.recordMetric(name, duration);\r\n    });\r\n  }\r\n\r\n  measureSync<T>(name: string, fn: () => T): T {\r\n    const start = performance.now();\r\n    try {\r\n      return fn();\r\n    } finally {\r\n      const duration = performance.now() - start;\r\n      this.recordMetric(name, duration);\r\n    }\r\n  }\r\n\r\n  reportMetrics() {\r\n    const metrics = this.getMetrics();\r\n    console.log('Performance Metrics:', metrics);\r\n    \r\n    // Send to analytics if available\r\n    if (process.env.NODE_ENV === 'production') {\r\n      // Send to analytics service\r\n      this.sendToAnalytics(metrics);\r\n    }\r\n  }\r\n\r\n  private sendToAnalytics(metrics: Record<string, number[]>) {\r\n    // Implementation for sending metrics to analytics service\r\n    // This could be Google Analytics, Firebase Analytics, etc.\r\n    try {\r\n      // Example: Send to Firebase Analytics\r\n      if (typeof window !== 'undefined' && (window as any).gtag) {\r\n        Object.entries(metrics).forEach(([name, values]) => {\r\n          const average = values.reduce((sum, val) => sum + val, 0) / values.length;\r\n          (window as any).gtag('event', 'performance_metric', {\r\n            metric_name: name,\r\n            metric_value: average,\r\n            metric_count: values.length\r\n          });\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to send metrics to analytics:', e);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.observers.forEach(observer => observer.disconnect());\r\n    this.observers = [];\r\n    this.metrics.clear();\r\n  }\r\n}\r\n\r\n// React Hook for performance monitoring\r\nexport const usePerformanceMonitor = () => {\r\n  const monitor = PerformanceMonitor.getInstance();\r\n\r\n  const measureAsync = (name: string, fn: () => Promise<any>) => {\r\n    return monitor.measureAsync(name, fn);\r\n  };\r\n\r\n  const measureSync = (name: string, fn: () => any) => {\r\n    return monitor.measureSync(name, fn);\r\n  };\r\n\r\n  const recordMetric = (name: string, value: number) => {\r\n    monitor.recordMetric(name, value);\r\n  };\r\n\r\n  return {\r\n    measureAsync,\r\n    measureSync,\r\n    recordMetric,\r\n    getMetrics: () => monitor.getMetrics(),\r\n    reportMetrics: () => monitor.reportMetrics()\r\n  };\r\n};\r\n\r\n// Web Vitals monitoring\r\nexport const reportWebVitals = (onPerfEntry: (metric: any) => void) => {\r\n  import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n    getCLS(onPerfEntry);\r\n    getFID(onPerfEntry);\r\n    getFCP(onPerfEntry);\r\n    getLCP(onPerfEntry);\r\n    getTTFB(onPerfEntry);\r\n  });\r\n};\r\n\r\n// Memory usage monitoring\r\nexport const getMemoryUsage = () => {\r\n  if ('memory' in performance) {\r\n    const memory = (performance as any).memory;\r\n    return {\r\n      usedJSHeapSize: memory.usedJSHeapSize,\r\n      totalJSHeapSize: memory.totalJSHeapSize,\r\n      jsHeapSizeLimit: memory.jsHeapSizeLimit\r\n    };\r\n  }\r\n  return null;\r\n};\r\n\r\n// Network monitoring\r\nexport const getNetworkInfo = () => {\r\n  if ('connection' in navigator) {\r\n    const connection = (navigator as any).connection;\r\n    return {\r\n      effectiveType: connection.effectiveType,\r\n      downlink: connection.downlink,\r\n      rtt: connection.rtt\r\n    };\r\n  }\r\n  return null;\r\n}; "],"names":["PerformanceDashboard","getMetrics","reportMetrics","usePerformanceMonitor","performanceData","setPerformanceData","useState","isMonitoring","setIsMonitoring","refreshInterval","setRefreshInterval","variant","uiVariant","config","uiConfig","useABTest","loadingVariant","loadingConfig","collectPerformanceData","_metrics$fetch_error","memory","getMemoryUsage","network","getNetworkInfo","metrics","data","timestamp","Date","now","memoryUsage","usedJSHeapSize","jsHeapSizeLimit","networkSpeed","downlink","loadTime","reduce","a","b","length","cacheHitRate","prev","slice","chartData","useMemo","map","time","toLocaleTimeString","performanceSummary","latest","avgMemory","sum","avgLoadTime","avgCacheHitRate","currentMemory","averageMemory","currentLoadTime","averageLoadTime","currentCacheHitRate","averageCacheHitRate","dataPoints","useEffect","clearInterval","_jsxs","className","children","_jsx","onClick","toggleMonitoring","interval","setInterval","concat","showProgressBar","animationSpeed","cacheSize","loadingStrategy","toFixed","ResponsiveContainer","width","height","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Line","type","stroke","BarChart","Bar","fill","dataStr","JSON","stringify","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","PerformanceMonitor","constructor","Map","observers","this","initObservers","getInstance","instance","window","navigationObserver","PerformanceObserver","list","entry","getEntries","entryType","navEntry","recordMetric","loadEventEnd","loadEventStart","observe","entryTypes","push","e","console","warn","paintObserver","startTime","name","value","has","set","get","getAverageMetric","values","val","result","forEach","key","measureAsync","fn","start","performance","finally","duration","measureSync","log","sendToAnalytics","gtag","Object","entries","_ref","average","metric_name","metric_value","metric_count","destroy","observer","disconnect","clear","monitor","totalJSHeapSize","navigator","connection","effectiveType","rtt"],"sourceRoot":""}